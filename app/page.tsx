"use client";

import { createClientComponentClient } from "@supabase/auth-helpers-nextjs";
import { useEffect } from "react";
import { useZustandStore } from "./lib/state/zustand";
import { useRouter } from "next/navigation";

export default function Home() {
  const supabase = createClientComponentClient();
  const { setUserUserSession } = useZustandStore();
  const router = useRouter();

  useEffect(() => {
    supabase.auth.getSession().then((res) => {
      if (res.data.session === null) {
        router.push("/auth")
      } else {
        console.log(res.data);        
        setUserUserSession(res.data.session);
        router.push("/dashboard")
      }
    });
  }, [supabase]);

  return (
    <div className={`flex h-screen items-center justify-center bg-white `}>
      <div className="relative">
  <div className="absolute top-6 bottom-0 left-6 right-0">
    <svg width="512" height="512" viewBox="0 0 512 512" fill="#00BF63" className="h-10 w-10" xmlns="http://www.w3.org/2000/svg">
      <mask id="mask0_3229_45062" maskUnits="userSpaceOnUse" x="0" y="0" width="512" height="512"><rect width="512" height="512" fill="#00BF63"></rect></mask>
      <g mask="url(#mask0_3229_45062)">
        <path d="M10.7774 305.369C8.10259 304.885 5.3536 305.611 3.26842 307.357C1.18715 309.102 -0.0116295 311.683 8.50623e-05 314.401V502.672C8.50623e-05 505.374 1.19496 507.94 3.26452 509.677C5.33407 511.415 8.06745 512.145 10.7305 511.676L134.599 486.561L84.2466 318.731L10.7774 305.369Z" fill="#00BF63"></path>
        <path d="M410.456 228.487H427.887C427.609 224.32 427.289 220.619 427.035 217.694C426.754 214.078 426.192 210.486 425.353 206.956C425.079 205.757 424.786 204.714 424.439 203.765C423.627 200.751 422.912 198.162 422.108 195.386C414.489 170.59 410.83 144.748 411.28 118.812C411.006 99.6316 412.92 80.4784 416.981 61.7274C405.696 57.6 397.164 48.1894 394.153 36.5569H309.582C305.346 52.9806 290.374 64.332 273.42 63.9766C273.107 65.1285 272.787 66.2609 272.502 67.3855C267.11 83.9771 264.587 101.373 265.048 118.812C264.571 136.235 267.074 153.608 272.447 170.188L273.127 172.644C275.235 180.278 277.621 188.931 279.523 199.443C280.081 202.293 280.558 205.558 281.042 208.92C281.112 209.478 282.1 217.612 282.741 228.487H302.429C306.861 202.114 329.696 182.8 356.44 182.8C383.184 182.8 406.02 202.114 410.456 228.487V228.487ZM338.162 155.373C317.974 155.373 301.605 139.004 301.605 118.812C301.605 98.6241 317.974 82.2551 338.162 82.2551C358.354 82.2551 374.719 98.6241 374.719 118.812C374.719 128.508 370.869 137.809 364.012 144.666C357.159 151.519 347.857 155.373 338.162 155.373Z" fill="#00BF63"></path>
        <path d="M502.672 246.765H228.487C223.571 246.797 219.521 242.911 219.35 237.999C219.182 233.083 222.95 228.924 227.858 228.616C227.292 219.982 226.132 211.399 224.383 202.926C222.977 196.635 221.349 190.969 219.705 185.284C219.147 183.32 218.573 181.348 218.014 179.337C193.519 182.726 180.77 207.713 180.641 207.979C180.641 207.979 175.752 220.381 166.849 237.464C150.273 266.883 128.25 292.885 101.959 314.081L153.034 484.393H237.628C345.475 484.393 427.84 475.576 428.644 475.483C436.001 475.17 442.979 472.136 448.219 466.966C453.362 461.89 456.396 455.056 456.712 447.836C456.978 444.221 455.505 440.698 452.745 438.348C451.3 438.559 449.843 438.695 448.383 438.762C448.285 438.762 448.203 438.707 448.11 438.707C448.02 438.707 447.926 438.762 447.836 438.762H393.001C387.952 438.762 383.86 434.669 383.86 429.62C383.86 424.575 387.952 420.483 393.001 420.483H447.836C449.75 420.522 451.663 420.37 453.549 420.026H453.596C466.189 417.527 475.26 406.477 475.256 393.638V391.353C475.256 382.267 467.888 374.902 458.805 374.902C458.418 374.863 458.04 374.805 457.661 374.719C457.423 374.719 457.224 374.855 456.978 374.855H383.86C378.811 374.855 374.719 370.767 374.719 365.718C374.719 360.669 378.811 356.577 383.86 356.577H456.978C457.329 356.624 457.68 356.694 458.028 356.788C458.188 356.745 458.356 356.706 458.52 356.678L461.355 356.589C469.153 356.737 476.681 353.715 482.211 348.217C487.744 342.715 490.805 335.206 490.7 327.404C490.805 318.477 483.722 311.121 474.799 310.879L383.86 310.742C378.811 310.742 374.719 306.65 374.719 301.605C374.719 296.556 378.811 292.464 383.86 292.464L474.983 292.557H485.034C498.888 292.557 510.13 273.877 511.794 261.014C512.239 258.347 511.961 255.606 510.989 253.083C509.525 249.659 506.366 247.261 502.672 246.765V246.765ZM140 377.343L137.258 368.205C135.81 363.367 138.555 358.275 143.389 356.827C148.227 355.378 153.319 358.123 154.768 362.957L157.509 372.099C158.208 374.418 157.95 376.921 156.802 379.057C155.65 381.189 153.702 382.782 151.378 383.477C150.527 383.727 149.645 383.856 148.754 383.86C144.717 383.86 141.159 381.212 140 377.343V377.343ZM219.678 465.787C213.602 466.006 207.01 466.115 199.954 466.115C195.55 466.115 191.2 466.068 187.002 466.006C175.163 465.92 164.729 458.212 161.168 446.923L150.996 414.021C150.031 410.901 150.804 407.504 153.026 405.11C155.244 402.716 158.575 401.685 161.757 402.412C164.944 403.138 167.497 405.508 168.458 408.628L178.622 441.53C179.864 445.255 183.359 447.758 187.287 447.735C197.834 447.899 209.443 447.872 219.018 447.536C221.454 447.395 223.84 448.254 225.629 449.914C227.413 451.573 228.448 453.889 228.487 456.326C228.573 458.75 227.694 461.109 226.042 462.882C224.391 464.655 222.099 465.701 219.678 465.787ZM265.833 464.37L256.691 465.221C256.434 465.232 256.176 465.232 255.914 465.221C250.869 465.428 246.605 461.507 246.398 456.458C246.187 451.413 250.108 447.149 255.157 446.942L264.298 446.083C269.327 445.646 273.755 449.375 274.189 454.404C274.626 459.434 270.897 463.862 265.868 464.295L265.833 464.37Z" fill="#00BF63"></path>
        <path d="M356.44 118.812C356.44 128.91 348.256 137.094 338.162 137.094C328.068 137.094 319.883 128.91 319.883 118.812C319.883 108.718 328.068 100.534 338.162 100.534C348.256 100.534 356.44 108.718 356.44 118.812V118.812Z" fill="#00BF63"></path>
        <path d="M321.043 228.487H391.838C387.671 212.348 373.114 201.067 356.44 201.067C339.771 201.067 325.213 212.348 321.043 228.487V228.487Z" fill="#00BF63"></path>
        <path d="M465.978 0H246.629C246.254 19.4616 243.103 38.771 237.273 57.3423C231.005 77.214 228.042 97.9798 228.487 118.812C228.374 130.566 229.194 142.307 230.939 153.928C231.65 158.36 232.548 162.71 233.68 167.197C233.743 167.447 233.817 167.673 233.872 167.931C234.969 172.199 236.109 176.236 237.261 180.231C238.999 186.252 240.736 192.27 242.251 199.087C244.258 208.779 245.567 218.608 246.172 228.487H264.45C263.841 218.697 262.955 211.423 262.955 211.325C262.541 208.471 262.111 205.503 261.584 202.824C259.807 192.988 257.644 185.12 255.532 177.509L254.891 175.159C249.03 156.97 246.285 137.918 246.765 118.812C246.281 99.6628 249.03 80.5682 254.903 62.3327C255.86 58.9043 256.855 55.3313 257.836 51.4812C258.452 49.0602 260.038 46.9945 262.217 45.7684C264.4 44.5462 266.988 44.269 269.378 45.0031C270.936 45.4795 272.557 45.7138 274.185 45.6981C284.279 45.6981 292.463 37.5136 292.463 27.4197C292.463 22.3707 296.556 18.2785 301.605 18.2785H402.138C407.187 18.2785 411.279 22.3707 411.279 27.4197C411.26 37.1232 418.867 45.1319 428.562 45.6161C431.311 45.7567 433.853 47.1273 435.478 49.3531C437.102 51.5749 437.637 54.4137 436.934 57.0768C431.624 77.214 429.14 97.9915 429.558 118.812C429.109 143.041 432.537 167.185 439.722 190.329C440.554 193.199 441.304 195.913 442.042 198.713C442.381 199.79 442.819 201.305 443.131 202.731C444.181 207.112 444.888 211.567 445.24 216.058C445.533 219.365 445.888 223.7 446.153 228.487H465.439C464.861 219.92 463.71 211.399 461.984 202.988C460.558 196.592 458.942 190.981 457.313 185.35C454.451 176.006 452.167 166.494 450.476 156.872C448.586 144.275 447.704 131.55 447.836 118.812C447.395 96.2851 450.597 73.8363 457.325 52.3324C462.69 35.3894 465.607 17.7669 465.978 0V0Z" fill="#00BF63"></path>
      </g>
    </svg>
  </div>
  <div className="h-24 w-24 animate-spin rounded-full border-4 border-solid border-blue-500 border-t-transparent"></div>
</div>

    </div>
  );
}
